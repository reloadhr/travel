{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\DEV\\\\react\\\\expenses\\\\src\\\\Form\\\\Form.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport default class Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      vendor: '',\n      date: '2020-02-02',\n      amount: '',\n      currency: '',\n      tax_rate: '',\n      tax_amount: '',\n      category: '',\n      paid_with: '',\n      country: '',\n      cost_center: '',\n      comments: '',\n      selectedFile: null,\n      fileLoaded: 0\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onChangeFileHandler = this.onChangeFileHandler.bind(this);\n  }\n\n  handleChange(event) {\n    const inputValue = event.target.value;\n    const stateField = event.target.name;\n    this.setState({\n      [stateField]: inputValue\n    });\n    console.log(this.state);\n  }\n\n  onChangeFileHandler(event) {\n    console.log(event.target.files[0]);\n    this.setState({\n      selectedFile: event.target.files[0],\n      fileLoaded: 0\n    });\n  }\n\n  async handleSubmit(event) {\n    const toBase64 = file => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n\n    console.log(event);\n    event.preventDefault();\n    const {\n      vendor,\n      date,\n      amount\n    } = this.state;\n    const data = new FormData();\n    data.append('file', this.state.selectedFile);\n    const obj = {\n      date: date\n    };\n    data.append('date', JSON.stringify(obj));\n    console.log(\"file: \" + JSON.stringify(this.state.selectedFile));\n    const data2 = {\n      username: \"react\",\n      vendor: vendor,\n      date: date,\n      amount: amount //file: toBase64(this.state.selectedFile)\n\n    };\n    console.log(\"data: \" + JSON.stringify(data));\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    await fetch('https://icxnpxnk6h.execute-api.eu-central-1.amazonaws.com/DEV/', {\n      method: 'POST',\n      body: data2\n    }).then(response => response.json()).then(data => console.log(data));\n    /*\r\n    await axios.post('https://icxnpxnk6h.execute-api.eu-central-1.amazonaws.com/DEV', data2, config)\r\n    .then(res => {\r\n    console.log(res.statusText)\r\n    })\r\n    .catch(err => {\r\n    console.log(err.response);\r\n    });\r\n    */\n  }\n\n  render() {\n    const style = {\n      border: '1px solid blue',\n      textAlign: 'center',\n      verticalAlign: 'middle'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: style,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"vendor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"vendor\",\n          onChange: this.handleChange,\n          value: this.state.vendor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"date\",\n          onChange: this.handleChange,\n          value: this.state.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"amount\",\n          onChange: this.handleChange,\n          value: this.state.amount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"currency:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"currency\",\n          onChange: this.handleChange,\n          value: this.state.currency\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"tax_rate:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"tax_rate\",\n          onChange: this.handleChange,\n          value: this.state.tax_rate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"tax_amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"tax_amount\",\n          onChange: this.handleChange,\n          value: this.state.tax_amount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category\",\n          onChange: this.handleChange,\n          value: this.state.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"paid_with:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"paid_with\",\n          onChange: this.handleChange,\n          value: this.state.paid_with\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"country:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"country\",\n          onChange: this.handleChange,\n          value: this.state.country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"cost_center:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"cost_center\",\n          onChange: this.handleChange,\n          value: this.state.cost_center\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"comments:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"comments\",\n          onChange: this.handleChange,\n          value: this.state.comments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"file\",\n          onChange: this.onChangeFileHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/DEV/react/expenses/src/Form/Form.js"],"names":["React","Component","axios","Form","constructor","props","state","vendor","date","amount","currency","tax_rate","tax_amount","category","paid_with","country","cost_center","comments","selectedFile","fileLoaded","handleSubmit","bind","handleChange","onChangeFileHandler","event","inputValue","target","value","stateField","name","setState","console","log","files","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","preventDefault","data","FormData","append","obj","JSON","stringify","data2","username","config","headers","fetch","method","body","then","response","json","render","style","border","textAlign","verticalAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default class Form extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      vendor: '',\r\n      date: '2020-02-02',\r\n      amount: '',\r\n      currency: '',\r\n      tax_rate: '',\r\n      tax_amount: '',\r\n      category: '',\r\n      paid_with: '',\r\n      country: '',\r\n      cost_center: '',  \r\n      comments: '',\r\n      selectedFile: null,\r\n      fileLoaded: 0    \r\n    };\r\n    \r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onChangeFileHandler = this.onChangeFileHandler.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    const inputValue = event.target.value;\r\n    const stateField = event.target.name;\r\n    \r\n    this.setState({\r\n      [stateField]: inputValue,\r\n    });\r\n    \r\n    console.log(this.state);\r\n  }\r\n\r\n  onChangeFileHandler(event) {\r\n    console.log(event.target.files[0])\r\n\r\n    this.setState({\r\n      selectedFile: event.target.files[0],\r\n      fileLoaded: 0\r\n    });\r\n    \r\n  }\r\n\r\n\r\n\r\n  async handleSubmit(event) {\r\n    const toBase64 = file => new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n    \r\n    console.log(event);\r\n    event.preventDefault();\r\n    const { vendor, date, amount } = this.state;\r\n    \r\n    const data = new FormData();\r\n    data.append('file', this.state.selectedFile);\r\n\r\n    const obj = {\r\n      date: date\r\n    }\r\n    data.append('date', JSON.stringify(obj));  \r\n  \r\n    console.log(\"file: \" + JSON.stringify(this.state.selectedFile));\r\n\r\n    const data2 = {\r\n      username: \"react\",\r\n      vendor: vendor,\r\n      date: date,\r\n      amount: amount,\r\n      //file: toBase64(this.state.selectedFile)\r\n    }\r\n\r\n    console.log(\"data: \" + JSON.stringify(data));\r\n\r\n    const config = {\r\n      headers: { \r\n        'content-type': 'multipart/form-data' \r\n      }\r\n    };\r\n\r\n    await fetch('https://icxnpxnk6h.execute-api.eu-central-1.amazonaws.com/DEV/', {\r\n      method: 'POST',\r\n      body: data2,     \r\n     })\r\n      .then(response => response.json())\r\n      .then(data => console.log(data));\r\n\r\n      /*\r\n    await axios.post('https://icxnpxnk6h.execute-api.eu-central-1.amazonaws.com/DEV', data2, config)\r\n    .then(res => {\r\n      console.log(res.statusText)\r\n    })\r\n    .catch(err => {\r\n      console.log(err.response);\r\n    });\r\n\r\n    */\r\n  }\r\n  \r\n\r\n\r\n\r\n  render() {\r\n    const style = {\r\n      border: '1px solid blue',\r\n      textAlign: 'center',\r\n      verticalAlign: 'middle'\r\n    }\r\n\r\n    return (\r\n      <div style={style}>\r\n        <form onSubmit={this.handleSubmit} >\r\n          <label>vendor:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"vendor\"\r\n            onChange={this.handleChange}\r\n            value={this.state.vendor}\r\n          /><br/>\r\n\r\n          <label>date:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"date\"\r\n            onChange={this.handleChange}\r\n            value={this.state.date}\r\n          /><br/>\r\n\r\n          <label>amount:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"amount\"\r\n            onChange={this.handleChange}\r\n            value={this.state.amount}\r\n          /><br/>\r\n\r\n          <label>currency:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"currency\"\r\n            onChange={this.handleChange}\r\n            value={this.state.currency}\r\n          /><br/>\r\n          \r\n          <label>tax_rate:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"tax_rate\"\r\n            onChange={this.handleChange}\r\n            value={this.state.tax_rate}\r\n          /><br/>                      \r\n\r\n          <label>tax_amount:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"tax_amount\"\r\n            onChange={this.handleChange}\r\n            value={this.state.tax_amount}\r\n          /><br/>  \r\n\r\n          <label>category:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"category\"\r\n            onChange={this.handleChange}\r\n            value={this.state.category}\r\n          /><br/>  \r\n\r\n          <label>paid_with:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"paid_with\"\r\n            onChange={this.handleChange}\r\n            value={this.state.paid_with}\r\n          /><br/>  \r\n\r\n          <label>country:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"country\"\r\n            onChange={this.handleChange}\r\n            value={this.state.country}\r\n          /><br/>  \r\n\r\n          <label>cost_center:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"cost_center\"\r\n            onChange={this.handleChange}\r\n            value={this.state.cost_center}\r\n          /><br/> \r\n\r\n          <label>comments:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"comments\"\r\n            onChange={this.handleChange}\r\n            value={this.state.comments}\r\n          /><br/>  \r\n\r\n          <input \r\n            type=\"file\" \r\n            name=\"file\"\r\n            onChange={this.onChangeFileHandler}\r\n\r\n          /><br/> \r\n           \r\n\r\n\r\n          <button type=\"submit\">Send</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}